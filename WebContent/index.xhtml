<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core">


<h:head>
<title>ARIES Example</title>
<link href="./css/style.css" rel="stylesheet" type="text/css"/> 
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="./js/collapseTable.js"></script>
<script type="text/javascript" src="./js/highcharts.js"></script>
<script type="text/javascript" src="./js/themes/dark-unica.js"></script>
<script type="text/javascript" src="./js/modules/data.js"></script>

</h:head>
<h:body>
<h1> Adaptive Radiology Interpretation &amps; Education System (ARIES)</h1>
<h3> Pre-pre-alpha version</h3>


<h:form>
Current Network: 
<h:selectOneMenu value="#{serverModel.networkInput}"  onchange="this.form.submit()">
  <f:selectItems value="#{serverModel.selectNetworkInputs}"/>   
</h:selectOneMenu>
</h:form>

<h2>Your Inputs:</h2>

<h:form>
<h:inputHidden value="#{serverModel.prePageLoad}"/>

<h:panelGrid style="width:90%;">
<ui:repeat var="feature" value="#{serverModel.selectMenuFeatures}">

<h:outputText value="#{serverModel.currentFeature(feature)}"/>

<h:selectOneMenu class="features ${serverModel.featureClass(feature)}" value="#{serverModel.nodeInput}"  onchange="this.form.submit()">
  <f:selectItems 
  	value="#{serverModel.selectMenuInputs(feature)}"/>
</h:selectOneMenu>

</ui:repeat>
</h:panelGrid>

<p>
<h:commandButton value="Reset" action="#{serverModel.resetHandler}"/>
</p>

<!-- 
<p>
<h:outputText value="#{serverModel.nodeInputString}" escape="false" />
</p>
 -->

<div id="container" style="min-width:350px; max-width: 1200px; height: 400px"></div>

<script>
$(function () {
    $('#container').highcharts({
        data: {
            table: 'diagnosistable'
        },
        chart: {
            type: 'bar',
            style: {
                fontSize:'14',
                fontFamily:'Sans Serif'
            }
        },
        title: {
            text: 'Top 10 Diagnoses',
            
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: 'Units'
            },
            max: 100
        },
        xAxis: {
        	labels: {
                style: {
                    fontSize:'12'
                }
            }
        },
        tooltip: {
            formatter: function () {
                return this.point.y + '% probability of ' + this.point.name;
            }
        }
    });
});
</script>

<div class="graphheader"><input type="button" id="lnkHood" value="[+]" class="togglebutton" onclick="toggle_visibility('tblHood','lnkHood')"/>
<input type="button" class="togglebutton title" value="Pop the Hood on Bayesian Network Values" onclick="toggle_visibility('tblHood','lnkHood')"/></div>
<div id="tblHood" style="display:none"><br/>
<p>
<h:outputText value="#{serverModel.diagnosisNode}" escape="false" />
</p>
<p>
<h:outputText value="#{serverModel.testNodes}" escape="false" />
</p>
</div>

<h:inputHidden value="#{serverModel.postPageLoad}"/>
</h:form>
<p>
</p><table border="0" width="600" align="center"><tr><td align="center"><a href="/ARIES/"><img alt="ARIES" src="aries.png"/></a><br/>
<font size="-2">Build 7-30-2015</font></td>
<td>
<font size="-1">Hospital of University of Pennsylvania<br/>
Department of Radiology <br/>
Based on the Work of Emmanuel Botzolakis <br/>
Designed by Howard Chen <br/>
<a href="https://www.gnu.org/copyleft/gpl.html">GNU Public License</a>
</font></td>
</tr></table>
</h:body>

</html>