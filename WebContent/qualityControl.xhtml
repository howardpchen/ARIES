<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    >


<h:head>
    <title>Adaptive Radiology Interpretation / Education System
        (ARIES)</title>
    <link href="./css/skel-noscript.css" rel="stylesheet" type="text/css" />
    <link href="./resources/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./resources/css/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="./css/newStyle.css" rel="stylesheet" type="text/css" />
    
    <script type="text/javascript"
        src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="./js/collapseTable.js"></script>
    <script type="text/javascript" src="./js/skel.min.js"></script>
    <script type="text/javascript" src="./js/skel-panels.min.js"></script>
    <script type="text/javascript" src="./js/highcharts.js"></script>
    <script type="text/javascript" src="./js/themes/dark-unica.js"></script>
    <script type="text/javascript" src="./js/modules/data.js"></script>
    
    <script type="text/javascript">
        function onLoadCursor() {
          document.body.style.cursor='default'; 
          
          document.getElementById("menu_clinical")).className = "active";
          document.getElementById("menu_submit")).className = "inactive";
          document.getElementById("menu_research")).className = "inactive";
          document.getElementById("menu_education")).className = "inactive";
          document.getElementById("menu_qc")).className = "inactive";
          
        }
    </script>
    
    <script type="text/javascript">
        function onWaitCursor() {
          document.body.style.cursor='wait';    
        }
    </script>

</h:head>

<h:body id="bodyStyle">
<ui:include src="header.xhtml" />  

<h:form id="qc">
<div class="container-fluid">

    <!--  Error message reporting -->
    <div class="row">
        <div class="col-xs-3"></div>
        <div class="col-xs-6">
            <h:outputText value="#{serverModel.researchErrMsg}" escape="false"></h:outputText>
            <h:messages globalOnly="true" style="color:red;font-weight:bold;"></h:messages>
        </div>
        <div class="col-xs-3"></div>
    </div>
    
    <div></div>
    
    <div class="row form-row">
        <div class="col-xs-2">
            <h4>Network</h4>
         </div>
         <div class="col-xs-10">
           <div class="input-group">     
               <h:selectOneMenu id="network" value="#{serverModel.activeNetwork}" class="registration" 
                   onchange="this.form.submit()" valueChangeListener="#{serverModel.qcChangeNetwork}"  reRender="diagnosis" >
                   <f:selectItem itemLabel="-select-" itemValue="-select-"></f:selectItem>
                   <f:selectItems value="#{serverModel.availableNetworks}"></f:selectItems> 
               </h:selectOneMenu>

           </div> 
        </div>
    </div>
    
   <div></div>
   
   <div class="row form-row">
        <div class="col-xs-2">
            <h4>CaseNo for QC</h4>
        </div>
        <div class="col-xs-10">
            <h:selectOneMenu id="caseNoQC" value="#{serverModel.caseNoforQCSetter}" class="registration">
                <f:selectItem itemLabel="-select-" ></f:selectItem>
                <f:selectItems value="#{serverModel.selectCaseList}" />
            </h:selectOneMenu>
        </div>
    </div>
        
   <div><br /></div>
   
   <div class="row form-row">
        <div class="col-xs-2"></div>
        <div class="col-xs-10">
            <h:commandButton id="qcbutton" value="QC" class="btn btn-primary"
                             action="#{serverModel.doQC}" />
        </div>
    </div>
   
   <h:inputHidden value="#{serverModel.postQCPageLoad}" />
</div>
</h:form>

	<script type="text/javascript">
	
	//showOrhideDiv();
		function validate() {

			var flag = 0;
			document.getElementById("error").innerText = "";
			document.getElementById("error").textContent = "";
			var userName = document.getElementById("caseInput:accession").value;

			if (/[^0-9a-zA-Z\s]/gi.test(userName)) {

				document.getElementById("error").innerText = "Only Alphanumeric Characters are allowed";
				document.getElementById("error").textContent = "Only Alphanumeric Characters are allowed";
				return true;
			} else
				return false;

		}
      
        function showOrhideDiv(){ 
        	var e = document.getElementById("maindiv");
			
			var flag = document.getElementById("caseInput:qcFlag").value;
			alert(flag);
			if ((flag == 'true')) {
				
				e.style.display = 'block';
			} 
			else{
				e.style.display = 'none';
			}
			
        }
        
		

		showText();
		function showText() {

			var correctDx = document.getElementById("caseInput:diagnosis").value;

			if (correctDx == 'Other')
				document.getElementById('inputTex').style.display = 'block';
			else
				document.getElementById('inputTex').style.display = 'none';
		}
		checkNumber();
		function checkNumber() {
			document.getElementById("age_error").innerText = "";
			document.getElementById("age_error").textContent = "";
			var age = document.getElementById("caseInput:age").value;
			if (isNaN(age)) {
				document.getElementById("age_error").innerText = "Only Numbers are allowed";
				document.getElementById("age_error").textContent = "Only Numbers are allowed";
				return true;
			} else if (age > 100) {
				document.getElementById("age_error").innerText = "Numbers(1-100) are allowed";
				document.getElementById("age_error").textContent = "Numbers(1-100) are allowed";
				return true;
			}
			return false;

		}
		function showQCWindow() {
			window
					.open('./qualityControl.jsf', 'mywindow',
							'resizable=no,toolbar=no,scrollbars=yes,height=450,width=530,top=145,left=235');
			return true;

		}
	</script>
	
</h:body>

</html>